--- make/pkgs/knock/knock.mk	2022-10-27 06:08:55.571234000 +0200
+++ make/pkgs/knock/knock.mk	2022-11-05 23:38:29.429076854 +0100
@@ -1,7 +1,7 @@
-$(call PKG_INIT_BIN, 0.7)
+$(call PKG_INIT_BIN, 0.8)
 $(PKG)_SOURCE:=$(pkg)-$($(PKG)_VERSION).tar.gz
-$(PKG)_HASH:=9938479c321066424f74c61f6bee46dfd355a828263dc89561a1ece3f56578a4
-$(PKG)_SITE:=http://www.zeroflux.org/proj/knock/files
+$(PKG)_HASH:=698d8c965624ea2ecb1e3df4524ed05afe387f6d20ded1e8a231209ad48169c7
+$(PKG)_SITE:=https://github.com/jvinet/knock/releases/download/v$($(PKG)_VERSION)
 $(PKG)_KNOCK_BINARY:=$($(PKG)_DIR)/knock
 $(PKG)_KNOCKD_BINARY:=$($(PKG)_DIR)/knockd
 $(PKG)_TARGET_KNOCK_BINARY:=$($(PKG)_DEST_DIR)/usr/bin/knock
--- make/pkgs/knock/Config.in	2022-10-27 06:08:55.567234000 +0200
+++ make/pkgs/knock/Config.in	2022-11-06 09:11:05.890907142 +0100
@@ -1,5 +1,5 @@
 config FREETZ_PACKAGE_KNOCK
-	bool "Knockd 0.7"
+	bool "Knockd 0.8"
 	select FREETZ_LIB_libpcap
 
 	default n
--- make/pkgs/knock/patches/101-smaller_snaplen.patch	2022-10-27 06:08:55.571234000 +0200
+++ make/pkgs/knock/patches/101-smaller_snaplen.patch	2022-11-06 09:09:32.676153222 +0100
@@ -1,11 +1,11 @@
 --- src/knockd.c
 +++ src/knockd.c
-@@ -207,7 +207,7 @@
+@@ -241,7 +241,7 @@
  
  	/* 50ms timeout for packet capture. See pcap(3pcap) manpage, which
  	 * recommends that a timeout of 0 not be used. */
--	cap = pcap_open_live(o_int, 65535, 0, 50, pcapErr);
-+	cap = pcap_open_live(o_int, BUFSIZ, 0, 50, pcapErr);
- 	if(strlen(pcapErr)) {
- 		fprintf(stderr, "could not open %s: %s\n", o_int, pcapErr);
+-	cap = pcap_open_live(o_int, 65535, 0, 50, pcap_err);
++	cap = pcap_open_live(o_int, BUFSIZ, 0, 50, pcap_err);
+ 	if(strlen(pcap_err)) {
+ 		fprintf(stderr, "could not open %s: %s\n", o_int, pcap_err);
  	}
