#!/bin/bash
# i-matik
echo -e ${GREEN}"Freetz files patch for i-matik."${NC}
cp -ar $I_MATIK_PATCH_PATH/10-box.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
cp -ar $I_MATIK_PATCH_PATH/info.cgi.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
cp -ar $I_MATIK_PATCH_PATH/menu-new.sh.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
cp -ar $I_MATIK_PATCH_PATH/motd.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < 10-box.patch
patch -p0 -b < info.cgi.patch
patch -p0 -b < menu-new.sh.patch
patch -p0 -b < motd.patch
rm -rf "$FREETZ_SSL_HOME_PATH/10-box.patch" 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/info.cgi.patch" 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/menu-new.sh.patch" 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/motd.patch" 2>/dev/null

# features
echo -e ${GREEN}"Freetz files patch for Temperature Sensors."${NC}
cp -ar $AVM_PATCH_PATH/features.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < features.patch
rm -rf "$FREETZ_SSL_HOME_PATH/features.patch" 2>/dev/null
echo -e ${GREEN}"Freetz files patch for Internet Sharing on Repeater."${NC}
cp -ar $I_MATIK_PATCH_PATH/ifree.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < ifree.patch
rm -rf "$FREETZ_SSL_HOME_PATH/ifree.patch" 2>/dev/null
echo -e ${GREEN}"Freetz files patch for GPON Serial Number."${NC}
cp -ar $I_MATIK_PATCH_PATH/show_gpon_serial.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < show_gpon_serial.patch
rm -rf "$FREETZ_SSL_HOME_PATH/show_gpon_serial.patch" 2>/dev/null

cp -ar $AVM_PATCH_PATH/version.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < version.patch
rm -rf "$FREETZ_SSL_HOME_PATH/version.patch" 2>/dev/null
cp -ar $MOD_PATCH_PATH/prefix.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < prefix.patch
rm -rf "$FREETZ_SSL_HOME_PATH/prefix.patch" 2>/dev/null
cp -ar $MOD_PATCH_PATH/juis.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < juis.patch
rm -rf "$FREETZ_SSL_HOME_PATH/juis.patch" 2>/dev/null
cp -ar $TOOLS_PATCH_PATH/freetz_download.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < freetz_download.patch
rm -rf "$FREETZ_SSL_HOME_PATH/freetz_download.patch" 2>/dev/null

#echo -e ${GREEN}"Freetz files patch for INHAUS Extras."${NC}
#cp -ar $I_MATIK_PATCH_PATH/show_inhaus_extra.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
#patch -p0 -b < show_inhaus_extra.patch
#rm -rf "$FREETZ_SSL_HOME_PATH/show_inhaus_extra.patch" 2>/dev/null

# fix
echo -e ${GREEN}"fix for sed host (static.pkg)."${NC}
cp -ar $I_MATIK_PATH/support/freetz/scripts/patches/host-tools/sed-host.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < sed-host.patch
rm -rf "$FREETZ_SSL_HOME_PATH/sed-host.patch" 2>/dev/null
echo -e ${GREEN}"fix rrdtool for 64xx and 6590."${NC}
cp -ar $PKGS_FIX_PATH/no_rrdstats_1_8.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < no_rrdstats_1_8.patch
rm -rf "$FREETZ_SSL_HOME_PATH/no_rrdstats_1_8.patch" 2>/dev/null
echo -e ${GREEN}"fix ssl 1.0.x aktiv for 64xx and 6590."${NC}
cp -ar $PKGS_FIX_PATH/openssl.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < openssl.patch
rm -rf "$FREETZ_SSL_HOME_PATH/openssl.patch" 2>/dev/null
echo -e ${GREEN}"fix 7530AX FW 7.56"${NC}
cp -ar $I_MATIK_PATH/support/freetz/scripts/fix/fix_for7530ax.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < fix_for7530ax.patch 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/fix_for7530ax.patch" 2>/dev/null
cp -ar $I_MATIK_PATH/support/freetz/scripts/fix/fix_for7530ax_friend.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < fix_for7530ax_friend.patch 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/fix_for7530ax_friend.patch" 2>/dev/null
echo -e ${GREEN}"fix for BootManager FW 7.56"${NC}
cp -ar $KERNEL_FIX_PATH/loop_fix.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
patch -p0 -b < loop_fix.patch 2>/dev/null
rm -rf "$FREETZ_SSL_HOME_PATH/loop_fix.patch" 2>/dev/null
#echo -e ${GREEN}"fix reboot loop."${NC}
#cp -ar $KERNEL_FIX_PATH/7490_07.56.patch "$FREETZ_SSL_HOME_PATH/" 2>/dev/null
#patch -p0 -b < 7490_07.56.patch
#rm -rf "$FREETZ_SSL_HOME_PATH/7490_07.56.patch" 2>/dev/null
